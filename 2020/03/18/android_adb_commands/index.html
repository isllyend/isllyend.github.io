<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Chigggo"><link rel="alternative" href="/atom.xml" title="Chigo's Blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>Android Adb常用命令 - Chigo's Blog</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">Chigo's Blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/tags">标签</a></li><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2020-03-18T07:00:00.000Z">2020 - 03 - 18 15:00:00</time><h1 class="post__title"><a href="/2020/03/18/android_adb_commands/">Android Adb常用命令</a></h1><div class="post__main echo"><p>[TOC]</p>
<h2 id="调试相关"><a href="#调试相关" class="headerlink" title="调试相关"></a>调试相关</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开启adb服务</span></span><br><span class="line">adb start-server</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭adb服务</span></span><br><span class="line">adb stop-server</span><br></pre></td></tr></table></figure>
<h2 id="设备相关"><a href="#设备相关" class="headerlink" title="设备相关"></a>设备相关</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 列出所有连接的设备</span></span><br><span class="line">adb devices</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个设备情况下使用 -s 参数指定对某个设备执行操作</span></span><br><span class="line">adb -s device-id</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设备id(device-id)可以通过 adb devices 命令看到，也可以通过如下命令获取</span></span><br><span class="line">adb <span class="keyword">get</span>-serialno</span><br></pre></td></tr></table></figure>
<p>将system分区重新挂载为可读写分区，设备root情况下才有效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb remount</span><br></pre></td></tr></table></figure>
<p>跑 monkey 测试稳定性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">adb</span> <span class="selector-tag">shell</span> <span class="selector-tag">monkey</span> <span class="selector-tag">-v</span> <span class="selector-tag">-p</span> <span class="selector-tag">your</span><span class="selector-class">.package</span><span class="selector-class">.name</span> 500</span><br></pre></td></tr></table></figure>
<p>重启机器</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正常重启</span></span><br><span class="line">adb reboot</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重启到 bootloader (刷机模式)</span></span><br><span class="line">adb reboot bootloader</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重启到 recovery (恢复模式)</span></span><br><span class="line">adb reboot recovery</span><br></pre></td></tr></table></figure>
<p>查看进程</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 列出进程列表 ，其中包含进程的 pid 等信息</span></span><br><span class="line">adb shell ps</span><br><span class="line"></span><br><span class="line"><span class="comment">// 杀死指定pid的进程</span></span><br><span class="line">adb shell kill pid</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看指定进程信息</span></span><br><span class="line">adb shell ps -x pid</span><br></pre></td></tr></table></figure>
<h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><p>从电脑上复制文件到设备</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把 a.png 从电脑上拷贝到设备sd卡上</span></span><br><span class="line">adb push ~<span class="regexp">/a.png /m</span>nt/sdcard/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把 a.png 从电脑上拷贝到设备sd卡上并重命名为 b.png</span></span><br><span class="line">adb push ~<span class="regexp">/a.png /m</span>nt/sdcard/b.png</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 把 pic目录下所有文件从电脑上拷贝到设备sd卡上</span></span><br><span class="line">adb push ~<span class="regexp">/pic/</span> /mnt/sdcard/</span><br></pre></td></tr></table></figure>
<p>从设备复制文件到电脑</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把 a.png 从设备sd卡上拷贝到电脑上</span></span><br><span class="line">adb pull /mnt/sdcard/a.png ~/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把 a.png 从设备sd卡上拷贝到电脑上并命名为b.png</span></span><br><span class="line">adb pull /mnt/sdcard/a.png ~/b.png</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把pics目录下所有文件从设备sd卡上拷贝到电脑上</span></span><br><span class="line">adb pull /mnt/sdcard/pics/ ~/pics/</span><br></pre></td></tr></table></figure>
<p>一些基本命令</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 列出sd卡根目录下所有文件</span></span><br><span class="line">adb shell ls /sdcard/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定位到 /sdcard/目录</span></span><br><span class="line">adb shell cd /sdcard/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除某文件</span></span><br><span class="line"><span class="comment">// -f 强制删除文件不需要确认</span></span><br><span class="line"><span class="comment">// -r 递归删除文件夹内文件</span></span><br><span class="line"><span class="comment">// -i 删除文件前需要确认</span></span><br><span class="line">adb shell rm /sdcard/<span class="number">1.</span>txt</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建目录</span></span><br><span class="line">adb shell mkdir /sdcard/temp/</span><br><span class="line"><span class="comment">// 指定 -p 递归创建目录</span></span><br><span class="line">adb shell mkdir -p  /sdcard/temp/test/abc/hello/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建文件</span></span><br><span class="line">adb shell touch /sdcard/<span class="number">1.</span>txt</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示当前所在目录</span></span><br><span class="line">adb shell pwd</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拷贝文件1.txt到test目录</span></span><br><span class="line">adb shell cp /sdcard/<span class="number">1.</span>txt /sdcard/test/</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动文件，移动同一目录下文件相当于重命名文件</span></span><br><span class="line">adb shell mv /sdcard/<span class="number">1.</span>txt /sdcard/<span class="number">2.</span>text</span><br></pre></td></tr></table></figure>
<h2 id="启动Activity等"><a href="#启动Activity等" class="headerlink" title="启动Activity等"></a>启动Activity等</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 启动应用</span></span><br><span class="line"><span class="comment">// -n 指定包名/包名+启动类的类名 ，启动类的类名必须是完整路径</span></span><br><span class="line">adb shell am start -n <span class="keyword">package</span>/<span class="keyword">package</span>-activity</span><br><span class="line"></span><br><span class="line"><span class="comment">// 停止应用</span></span><br><span class="line">adb shell am force-stop <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动 service</span></span><br><span class="line">adb shell am startservice [options] &lt;INTENT&gt;</span><br><span class="line">举例：adb shell am startservice -a com.lt.test.action.ONESERVICE</span><br><span class="line">举例：adb shell am startservice -n com.lt.test/.MyService</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送广播</span></span><br><span class="line">adb shell am broadcast [options] &lt;INTENT&gt;</span><br><span class="line"><span class="comment">// 发送一个广播去关闭一个activity</span></span><br><span class="line">adb shell am broadcast -a <span class="string">"action_finish"</span> </span><br><span class="line"><span class="comment">// 恢复出厂设置的方法，会清除内存所有内容</span></span><br><span class="line">adb shell am broadcast -a android.intent.action.MASTER_CLEAR</span><br><span class="line">adb shell am broadcast -n com.lt.test/.MyBroadcast</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列举出所有包含&lt;INTENT&gt;的package</span></span><br><span class="line">adb shell pm list packages [options] &lt;INTENT&gt;</span><br><span class="line">adb shell pm list packages com.lt</span><br></pre></td></tr></table></figure>
<h2 id="管理安装包"><a href="#管理安装包" class="headerlink" title="管理安装包"></a>管理安装包</h2><p>adb shell pm</p>
<p>安装应用程序</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb install xxx.apk</span><br><span class="line"></span><br><span class="line"><span class="comment">// 覆盖安装(保留缓存和数据)</span></span><br><span class="line">adb install -r xxx.apk</span><br><span class="line"></span><br><span class="line"><span class="comment">// 安装apk到sd卡</span></span><br><span class="line">adb install -s xxx.apk</span><br></pre></td></tr></table></figure>
<p>卸载应用程序</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall <span class="keyword">package</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 卸载时保留数据和缓存目录</span></span><br><span class="line">adb uninstall -k <span class="keyword">package</span></span><br></pre></td></tr></table></figure>
<p>列出设备上的所有权限</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> permissions</span><br></pre></td></tr></table></figure>
<p>列出设备上安装的所有app的包名</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> packages</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列出指定包名对应的apk路径</span></span><br><span class="line">adb shell pm path com.android.search</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清空指定包名对应的应用的数据和缓存文件，开发时很有用</span></span><br><span class="line">adb shell pm clear com.android.search</span><br></pre></td></tr></table></figure>
<p>列出设备上的所有feature</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> features</span><br></pre></td></tr></table></figure>
<h2 id="显示系统信息"><a href="#显示系统信息" class="headerlink" title="显示系统信息"></a>显示系统信息</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取系统属性，可以获取到一大堆关于系统信息（键值对形式）</span></span><br><span class="line">adb shell getprop </span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取系统属性并过滤出包含version的信息</span></span><br><span class="line">adb shell getprop | grep version</span><br></pre></td></tr></table></figure>
<p>查看 cpu 和 内存使用情况</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每隔一秒会刷新一次 cpu 和 内存情况</span></span><br><span class="line">adb shell top</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看占用内存前3的应用</span></span><br><span class="line">adb shell top -m <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 刷新3次内存信息（不指定-n参数的话默认每秒会刷新1次数据）：</span></span><br><span class="line">adb shell top -n <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看占用内存前3的应用，刷新1次</span></span><br><span class="line">adb shell top -m <span class="number">3</span> -n <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>查看系统当前 cpu 使用情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /proc/cpuinfo</span><br><span class="line">adb shell cat /proc/<span class="built_in">stat</span></span><br></pre></td></tr></table></figure>
<p>查看系统当前内存使用情况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /proc/meminfo</span><br></pre></td></tr></table></figure>
<p>查看指定包名应用内存使用情况，各项信息具体说明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys meminfo <span class="keyword">package</span></span><br></pre></td></tr></table></figure>
<p>查看 service</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell service <span class="built_in">list</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /system/build.prop</span><br></pre></td></tr></table></figure>
<p>电池相关</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查看电量管理信息，其中可以知道当前那个应用持有WAKE_LOCK锁</span></span><br><span class="line">adb shell dumpsys power</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看电池用量情况</span></span><br><span class="line">adb shell dumpsys battery</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看电池使用日志，图形界面日志分析参考google提供的工具 https://github.com/google/battery-historian</span></span><br><span class="line">adb shell dumpsys batterystats</span><br></pre></td></tr></table></figure>
<h2 id="截图录屏"><a href="#截图录屏" class="headerlink" title="截图录屏"></a>截图录屏</h2><p>截图</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 截图到sd卡并命名为1.png，拷贝sd卡1.png到当前目录</span></span><br><span class="line">adb shell screencap /sdcard/<span class="number">1.</span>png</span><br><span class="line">adb pull /sdcard/<span class="number">1.</span>png .</span><br></pre></td></tr></table></figure>
<p>录制屏幕操作（android4.4及以后支持）</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 录制屏幕操作视频到sd卡并命名为 test.mp4 </span></span><br><span class="line"><span class="comment">// 如果想停止录制，按 Ctrl + C，否则三分钟后会自动停止录制，如果你设置了--time-limit参数将以它为准</span></span><br><span class="line"><span class="comment">// 拷贝sd卡 test.mp4 到点当前目录</span></span><br><span class="line">adb shell screenrecord /sdcard/test.mp4</span><br><span class="line">adb pull /sdcard/<span class="number">1.</span>png .</span><br><span class="line"></span><br><span class="line"><span class="comment">// --size 指定录制的视频分辨率,比如设置为 800x480 </span></span><br><span class="line"><span class="comment">// --bit-rate 设置视频采样比特率，缺省是4Mbps </span></span><br><span class="line"><span class="comment">// --time-limit 设置录制时间，单位为秒，默认180秒</span></span><br><span class="line"><span class="comment">// --verbose 录屏时电脑端屏显log,录完屏后还可以看到发出了广播 android.intent.action.MEDIA_SCANNER_SCAN_FIL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 录制屏幕操作视频到sd卡下test1.mp4，其中录制时采样为 5Mbps，录制时间为20秒，视频分辨率设定为 1920x1080，录制时打出log</span></span><br><span class="line">adb shell screenrecord --verbose --size <span class="number">1920</span>x1080 --bit-rate <span class="number">5000000</span> --time-limit <span class="number">20</span> /sdcard/test1.mp4</span><br></pre></td></tr></table></figure>
<h2 id="模拟按键"><a href="#模拟按键" class="headerlink" title="模拟按键"></a>模拟按键</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模拟输入，其中 %s 代表空格</span></span><br><span class="line">adb shell input text <span class="string">"hello%sworld"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟按键，82 代表 KEYCODE_MENU 即菜单键</span></span><br><span class="line"><span class="comment">// 更多KEYCODE可以参考 http://developer.android.com/intl/zh-cn/reference/android/view/KeyEvent.html</span></span><br><span class="line">adb shell input keyevent <span class="number">82</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟点击，屏幕上横坐标纵坐标分别为100 120的位置</span></span><br><span class="line"><span class="comment">// 要查看具体坐标值，可以打开开发者选项-&gt;指针位置</span></span><br><span class="line">adb shell input tap <span class="number">100</span> <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟滑动，从位置（0,1000）滑动到(800,600)</span></span><br><span class="line">adb shell input swipe <span class="number">0</span> <span class="number">1000</span> <span class="number">800</span> <span class="number">600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟长按，在位置（100,200）长按500毫秒</span></span><br><span class="line">adb shell input swipe <span class="number">100</span> <span class="number">200</span> <span class="number">100</span> <span class="number">200</span> <span class="number">500</span></span><br></pre></td></tr></table></figure>
<h2 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查看网络状态</span></span><br><span class="line">adb shell netstat</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 tcp/ip 连接，默认端口 5555</span></span><br><span class="line">adb connect host:port</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转发套接字连接</span></span><br><span class="line">adb forward local remote</span><br></pre></td></tr></table></figure>
<h2 id="日志输出"><a href="#日志输出" class="headerlink" title="日志输出"></a>日志输出</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查看指定 tag 日志</span></span><br><span class="line">adb logcat -s tag</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除log缓存</span></span><br><span class="line">adb logcat -<span class="built_in">c</span></span><br></pre></td></tr></table></figure></div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/adb/">adb</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="lv-container" data-id="isllyend" data-uid="MTAyMC8yOTI4Ny81ODU1"><script>(function(d, s) {
  var j, e = d.getElementsByTagName(s)[0];
  if (typeof LivereTower === 'function') return;
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2017 - 2020 Chigggo</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>